function fixedSvg(){var a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;$("use").filter(function(){return $(this).attr("xlink:href").indexOf("#")>-1}).each(function(){$(this).attr("xlink:href",a+$(this).attr("xlink:href").split("/").slice(-1)[0])})}function isOnPage(a){return!!$(a).length&&$(a)}function callback(){var a=$(".js-spikier");$(".slide-lengs .all-element").text(a.find(".owl-item").length)}var validator={init:function(){$("form").each(function(){var a=$(this).attr("name");if(valitatorRules.hasOwnProperty(a)){var b=valitatorRules[a];$(this).validate({rules:b,errorElement:"b",errorClass:"error",focusInvalid:!1,focusCleanup:!0,errorPlacement:function(a,b){validator.setError($(b),a)},highlight:function(a,b,c){var d=validator.defineElement($(a));d&&d.removeClass(c).addClass(b)},unhighlight:function(a,b,c){var d=validator.defineElement($(a));d&&d.removeClass(b).addClass(c)},messages:{email:{required:"Необходимо заполнить поле E-mail.",email:"E-mail имеет не верный формат"},password:"Необходимо заполнить поле Пароль."}})}})},setError:function(a,b){a=this.defineElement(a),a&&this.domWorker.error(a,b)},defineElement:function(a){return a},domWorker:{error:function(a,b){a.addClass("error"),a.after(b)}}},valitatorRules={"sign-up":{password:{required:!0},email:{required:!0,email:!0}}};if($.validator.addMethod("email",function(a){var b=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return b.test(a)}),!function(a){var b,c,d=a.event;b=d.special.debounce={setup:function(){a(this).on("resize",b.handler)},teardown:function(){a(this).off("resize",b.handler)},handler:function(a,e){var f=this,g=arguments,h=function(){a.type="debounce",d.dispatch.apply(f,g)};c&&clearTimeout(c),e?h():c=setTimeout(h,b.threshold)},threshold:150}}(jQuery),Modernizr.flexbox||!function(){var a=$("#page-wrapper"),b=$("#page-body"),c=function(){b.height("auto"),b.height()+$("#header").outerHeight()+$("#footer").outerHeight()<$(window).height()?b.height($(window).height()-$("#header").outerHeight()-$("#footer").outerHeight()):a.height("auto")};$(window).on("load resize",c)}(),10!=ieDetector.ieVersion&&11!=ieDetector.ieVersion||!function(){var a=$("#page-wrapper"),b=$("#page-body"),c=function(){b.addClass("flex-none").height()+$("#header").outerHeight()+$("#footer").outerHeight()<$(window).height()?(a.height($(window).height()),b.removeClass("flex-none")):a.height("auto")};c(),$(window).on("load resize",c)}(),$(function(){$("input[placeholder], textarea[placeholder]").placeholder()}),fixedSvg(),$(".js-select").on("click",".placeholder",function(){var a=$(this).closest(".js-select");a.hasClass("is-open")?a.removeClass("is-open"):(a.addClass("is-open"),$(".js-select.is-open").not(a).removeClass("is-open"))}).on("click","ul>li",function(){var a=$(this).closest(".js-select");a.removeClass("is-open").find(".placeholder").text($(this).text()),a.find("input").attr("value",$(this).attr("data-value")).trigger("focusout")}),$(window).on("click",function(a){a.target.closest(".js-select, .placeholder, .js-select ul>li")||$(".js-select").removeClass("is-open")}),$(".js-select li").each(function(){if($(this).hasClass("js-active")){var a=$(this);a.parents(".js-select").find(".placeholder").text(a.text()),a.parents(".js-select").find("input").attr("value",a.attr("data-value")).trigger("focusout")}}),isOnPage($(".js-carousel-1"))&&$(".js-carousel-1").owlCarousel({loop:!0,margin:30,nav:!0,navText:['<i class="icon-arrow-l"></i>','<i class="icon-arrow-l"></i>'],responsive:{0:{items:1},600:{items:2},1e3:{items:3}}}),isOnPage($(".js-spikier"))&&($(".js-spikier").on("changed.owl.carousel",function(a){var b=a.item.index;$(".slide-lengs .this-element").text(b+2)}),$(".js-spikier").owlCarousel({margin:30,nav:!0,navText:["",""],responsive:{0:{items:1},600:{items:1},1e3:{items:2}},onTranslated:callback}),callback()),$(document).on("click",".show-all",function(a){a.preventDefault(),$(this).toggleClass("js-open"),$(".js-list-dropdown").toggleClass("js-open")}),isOnPage($(".js-list-dropdown"))&&($(".js-list-dropdown").on("click",".title-item",function(a){a.preventDefault(),$(this).parent(".dropdown-item").toggleClass("js-open")}),$(".js-list-dropdown").on("click",".title-item-strong",function(a){a.preventDefault(),$(this).parent(".dropdown-item-strong").toggleClass("js-open")})),isOnPage($(".js-partner"))&&$(".js-partner").owlCarousel({loop:!0,margin:30,nav:!0,navText:['<i class="icon-arrow-l"></i>','<i class="icon-arrow-l"></i>'],responsive:{0:{items:1},600:{items:2},1e3:{items:3}}}),$("#scroll-wrap").slimScroll({height:"470px",size:"3px"}),$("#scroll-wrap1").slimScroll({height:"280px",size:"3px"}),$(".competence").on("click",".js-toggle-menu",function(a){a.preventDefault(),$(this).parents(".competence").addClass("js-open")}),$(".competence").on("click",".js-toggle-close",function(a){a.preventDefault(),$(this).parents(".competence").removeClass("js-open")}),$(document).on("confirmation closed",".sign-up",function(){$(".sign-up-form").trigger("reset").validate().resetForm()}),$(document).on("click",".js-promo-step",function(a){a.preventDefault(),$(".promo-step-1").hide(),$(".promo-step-2").fadeIn()}),$(document).on("closed",".promo-code",function(a){$(".promo-step-1").show(),$(".promo-step-2").hide()}),$(document).on("click",".js-show",function(a){a.preventDefault()}),validator.init(),isOnPage($("#graph"))){var el=document.getElementById("graph"),options={percent:el.getAttribute("data-percent")||20,size:el.getAttribute("data-size")||44,lineWidth:el.getAttribute("data-line")||4,rotate:el.getAttribute("data-rotate")||0},canvas=document.createElement("canvas"),span=document.createElement("span");span.textContent=options.percent+"%","undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(canvas);var ctx=canvas.getContext("2d");canvas.width=canvas.height=options.size,el.appendChild(span),el.appendChild(canvas),ctx.translate(options.size/2,options.size/2),ctx.rotate((-.5+options.rotate/180)*Math.PI);var radius=(options.size-options.lineWidth)/2,drawCircle=function(a,b,c){c=Math.min(Math.max(0,c||1),1),ctx.beginPath(),ctx.arc(0,0,radius,0,2*Math.PI*c,!1),ctx.strokeStyle=a,ctx.lineCap="round",ctx.lineWidth=b,ctx.stroke()};drawCircle("#cacaca",1,1),drawCircle("#00e8cb",options.lineWidth,options.percent/100)}if(isOnPage($("#graph1"))){var el=document.getElementById("graph1"),options={percent:el.getAttribute("data-percent")||20,size:el.getAttribute("data-size")||44,lineWidth:el.getAttribute("data-line")||4,rotate:el.getAttribute("data-rotate")||0},canvas=document.createElement("canvas"),span=document.createElement("span");span.textContent=options.percent+"%","undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(canvas);var ctx=canvas.getContext("2d");canvas.width=canvas.height=options.size,el.appendChild(span),el.appendChild(canvas),ctx.translate(options.size/2,options.size/2),ctx.rotate((-.5+options.rotate/180)*Math.PI);var radius=(options.size-options.lineWidth)/2,drawCircle=function(a,b,c){c=Math.min(Math.max(0,c||1),1),ctx.beginPath(),ctx.arc(0,0,radius,0,2*Math.PI*c,!1),ctx.strokeStyle=a,ctx.lineCap="round",ctx.lineWidth=b,ctx.stroke()};drawCircle("#cacaca",1,1),drawCircle("#00e8cb",options.lineWidth,options.percent/100)}